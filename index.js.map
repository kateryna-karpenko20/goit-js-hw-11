{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchForm = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadingIndicator = document.querySelector('#loading-indicator');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const query = event.currentTarget.elements.searchQuery.value.trim();\n\nif (query === '') {\n  iziToast.error({\n    title: 'Error',\n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n    position: 'topRight',\n    titleColor: '#fafafb',\n   iconUrl: '/src/public/favicon.svg',\n      icon: 'icon-Not',\n    color: '#fafafb',\n    backgroundColor: '#ef4040',\n    messageColor: '#fafafb',\n    progressBar: true,\n    progressBarColor: '#B51B1B',\n    iconColor: '#fafafb',\n  });\n  return;\n}\n\n  clearGallery();\n  showLoader();\n\n  fetchImages(query)\n    .then(images => {\n      hideLoader();\n\n      if (images.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      createImageCards(images);\n    })\n    .catch(error => {\n      hideLoader();\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong! Please try again later.',\n      });\n      console.error('Error fetching images:', error);\n    });\n}\n\nfunction fetchImages(query) {\n  const apiKey = '46054500-d9995bae73a62b965b4fbf26c';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => response.json())\n    .then(data => data.hits)\n    .catch(error => {\n      console.error('Error:', error);\n      return [];\n    });\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = ''; \n}\n\nfunction createImageCards(images) {\n  const markup = images.map(image => `\n    <li class=\"gallery-item\">\n      <div class=\"photo-card\">\n        <a href=\"${image.largeImageURL}\" class=\"link\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\"><b class=\"name-info\">Likes</b> ${image.likes}</p>\n          <p class=\"info-item\"><b class=\"name-info\">Views</b> ${image.views}</p>\n          <p class=\"info-item\"><b class=\"name-info\">Comments</b> ${image.comments}</p>\n          <p class=\"info-item\"><b class=\"name-info\">Downloads</b> ${image.downloads}</p>\n        </div>\n      </div>\n    </li>\n  `).join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction showLoader() {\n  loadingIndicator.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loadingIndicator.classList.add('hidden');\n}\n"],"names":["searchForm","gallery","loadingIndicator","lightbox","SimpleLightbox","onSearch","event","query","iziToast","clearGallery","showLoader","fetchImages","images","hideLoader","createImageCards","error","url","response","data","markup","image"],"mappings":"4xBAUA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAmB,SAAS,cAAc,oBAAoB,EAEpE,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAW,iBAAiB,SAAUK,CAAQ,EAE9C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,YAAY,MAAM,OAE/D,GAAIC,IAAU,GAAI,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,WACV,WAAY,UACb,QAAS,0BACN,KAAM,WACR,MAAO,UACP,gBAAiB,UACjB,aAAc,UACd,YAAa,GACb,iBAAkB,UAClB,UAAW,SACf,CAAG,EACD,MACF,CAEEC,IACAC,IAEAC,EAAYJ,CAAK,EACd,KAAKK,GAAU,CAGd,GAFAC,IAEID,EAAO,SAAW,EAAG,CACvBJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,EACD,MACD,CAEDM,EAAiBF,CAAM,CAC7B,CAAK,EACA,MAAMG,GAAS,CACdF,IACAL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACjB,CAAO,EACD,QAAQ,MAAM,yBAA0BO,CAAK,CACnD,CAAK,CACL,CAEA,SAASJ,EAAYJ,EAAO,CAE1B,MAAMS,EAAM,qEAA4C,mBAAmBT,CAAK,CAAC,2DAEjF,OAAO,MAAMS,CAAG,EACb,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMH,IACL,QAAQ,MAAM,SAAUA,CAAK,EACtB,GACR,CACL,CAEA,SAASN,GAAe,CACtBR,EAAQ,UAAY,EACtB,CAEA,SAASa,EAAiBF,EAAQ,CAChC,MAAMO,EAASP,EAAO,IAAIQ,GAAS;AAAA;AAAA;AAAA,mBAGlBA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gEAGIA,EAAM,KAAK;AAAA,gEACXA,EAAM,KAAK;AAAA,mEACRA,EAAM,QAAQ;AAAA,oEACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAIhF,EAAE,KAAK,EAAE,EAEVnB,EAAQ,mBAAmB,YAAakB,CAAM,EAC9ChB,EAAS,QAAO,CAClB,CAEA,SAASO,GAAa,CACpBR,EAAiB,UAAU,OAAO,QAAQ,CAC5C,CAEA,SAASW,GAAa,CACpBX,EAAiB,UAAU,IAAI,QAAQ,CACzC"}